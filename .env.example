# ============================================
# TENSO - Unified Environment Configuration
# ============================================
# Copy this file: cp .env.example .env
# Then add your PRIVATE_KEY below

# ==================
# Wallet Configuration
# ==================
# Your wallet private key (DO NOT COMMIT THIS!)
# Get from MetaMask: Account Details â†’ Export Private Key
PRIVATE_KEY=

# Your wallet address (node operator address)
# This address receives 8% of all payments routed through this node
NODE_OPERATOR_ADDRESS=0x9E378843507BF367b470777cFa57D61e8633E628

# Protocol treasury address (receives 2% protocol fee)
PROTOCOL_TREASURY=0x9E378843507BF367b470777cFa57D61e8633E628

# ==================
# Network Configuration
# ==================
# Base Sepolia RPC URL (Alchemy)
RPC_URL=https://base-sepolia.g.alchemy.com/v2/Ktzcw4eIS0Pwd3-l6PZJ7qncooUA03RW

# Chain ID (Base Sepolia = 84532)
CHAIN_ID=84532

# BaseScan API Key (for contract verification)
ETHERSCAN_API_KEY=G1KKHRVPQBECAI3CU36SWPQ5SAZUJYWWSY

# ==================
# Smart Contract Addresses (Base Sepolia)
# ==================
# PaymentRouter: Handles 90/8/2 revenue splitting
PAYMENT_ROUTER_ADDRESS=0x6fa35e1f6ab4291432b36f16578614e90750b7e6

# PaymentVerifier: Verifies EIP-712 payment signatures
PAYMENT_VERIFIER_ADDRESS=0xa73d7c7703b23cc4692fdd817345ad29db5ac4e9

# NodeRegistry: DePIN node management
NODE_REGISTRY_ADDRESS=0x5b2222610e04380e1caf3988d88fbd15686a1b6c

# USDC Test Token (Base Sepolia)
USDC_ADDRESS=0x036CbD53842c5426634e7929541eC2318f3dCF7e

# ==================
# ABIs (Contract Interfaces)
# ==================
# PaymentRouter ABI
PaymentRouterABI='[{"type":"function","name":"splitPayment","inputs":[{"name":"apiOwner","type":"address"},{"name":"amount","type":"uint256"}],"outputs":[],"stateMutability":"nonpayable"}]'

# PaymentVerifier ABI
PaymentVerifierABI='[{"type":"function","name":"verifyPayment","inputs":[{"name":"payment","type":"tuple","components":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"amount","type":"uint256"},{"name":"nonce","type":"uint256"},{"name":"deadline","type":"uint256"}]},{"name":"signature","type":"bytes"}],"outputs":[{"name":"","type":"address"}],"stateMutability":"view"}]'

# NodeRegistry ABI
NodeRegistryABI='[{"type":"function","name":"registerNode","inputs":[{"name":"endpoint","type":"string"},{"name":"region","type":"string"}],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"getNode","inputs":[{"name":"operator","type":"address"}],"outputs":[{"name":"","type":"tuple","components":[{"name":"operator","type":"address"},{"name":"endpoint","type":"string"},{"name":"region","type":"string"},{"name":"stakeAmount","type":"uint256"},{"name":"reputation","type":"uint256"},{"name":"active","type":"bool"},{"name":"registeredAt","type":"uint256"}]}],"stateMutability":"view"}]'

# ==================
# Server Configuration
# ==================
# Port for forwarder to run on
PORT=3001

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ==================
# Feature Flags
# ==================
# Enable debug logging
DEBUG=false

# Enable gas estimation before transactions
ESTIMATE_GAS=true

# ==================
# Quick Setup Guide
# ==================
# 1. Copy this file: cp .env.example .env
# 2. Add your wallet PRIVATE_KEY above (from MetaMask)
# 3. All contract addresses are already configured!
# 4. Run: docker-compose up
# 5. Open: http://localhost:3000
#
# Get testnet tokens:
# - Base Sepolia ETH: https://www.coinbase.com/faucets/base-ethereum-sepolia-faucet
# - Test USDC: Already available at the contract address above
#
# Ready to go! The only thing you need to add is your PRIVATE_KEY.
